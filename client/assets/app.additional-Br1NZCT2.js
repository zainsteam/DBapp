import{w as j,c as f,u as P,r as y,j as e}from"./chunk-EPOLDU6W-DaavK2Ov.js";import{u as S}from"./useAppBridge-Bj34gXAL.js";const v=j(function(){var i,r,c,d,u;const s=f(),l=P(),n=S(),a=((i=s.data)==null?void 0:i.products)??l.products,o=((r=s.data)==null?void 0:r.pageInfo)??l.pageInfo,h=((c=s.data)==null?void 0:c.products)??a,g=((d=s.data)==null?void 0:d.totalCount)??l.totalCount;(u=s.data)==null||u.pageInfo,y.useEffect(()=>{a.length>0&&n.toast.show(`Loaded ${a.length} products`)},[a.length,n]);function p(){s.load(`?after=${o.endCursor}`)}function b(){s.load(`?before=${o.startCursor}`)}function x(){console.log("Generating a product"),n.toast.show(`Loaded ${a.length} products`)}return e.jsxs(e.Fragment,{children:[s.state==="loading"&&e.jsx("s-spinner",{accessibilityLabel:"Loading products"}),e.jsxs("s-page",{heading:`Shopify Products (${g})`,slot:"primary-action",padding:"none",inlineSize:"large",children:[e.jsx("s-button",{slot:"primary-action",onClick:x,children:"Sync Products"}),e.jsx("s-section",{padding:"none",children:a.length===0?e.jsx("s-paragraph",{children:"No products found."}):e.jsx("s-box",{padding:"none",background:"subdued",style:{overflowX:"auto",width:"100%",display:"block",blockSize:"auto"},children:e.jsxs("s-table",{paginate:!0,hasNextPage:o.hasNextPage,hasPreviousPage:o.hasPreviousPage,onNextPage:p,onPreviousPage:b,disabled:s.state!=="idle",children:[e.jsx("s-grid",{slot:"filters",gap:"small-200",gridTemplateColumns:"1fr auto",children:e.jsx("s-text-field",{label:"Search puzzles",labelAccessibilityVisibility:"exclusive",icon:"search",placeholder:"Searching all puzzles"})}),e.jsxs("s-table-header-row",{children:[e.jsx("s-table-header",{listSlot:"primary",children:"Product"}),e.jsx("s-table-header",{listSlot:"inline",children:"Status"}),e.jsx("s-table-header",{listSlot:"inline",children:"Created At"}),e.jsx("s-table-header",{listSlot:"inline",children:"Sync Status"})]}),e.jsx("s-table-body",{children:h.map(t=>e.jsxs("s-table-row",{children:[e.jsx("s-table-cell",{children:t.title}),e.jsx("s-table-cell",{children:e.jsx("s-badge",{color:"base",tone:t.status=="ACTIVE"?"success":t.status=="DRAFT"?"caution":"neutral",children:t.status})}),e.jsx("s-table-cell",{children:new Date(t.createdAt).toDateString()}),e.jsx("s-table-cell",{children:t.status=="ACTIVE"?e.jsx("s-badge",{tone:"success",icon:"check",accessibilityLabel:"Synced",children:"Synced"}):e.jsx("s-button",{tone:"critical",icon:"arrows-out-horizontal",accessibilityLabel:"Not Sync",children:"Sync Now"})})]},t.id))})]})})})]})]})});export{v as default};
